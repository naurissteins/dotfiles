// Generated by CoffeeScript 2.5.1
(function() {
  var BabelSpacePenDSL, Builder, Events, Mixin, SelfClosingTags, SpacePenDSL, Tags, Template;

  Mixin = require('mixto');

  Tags = 'a abbr address article aside audio b bdi bdo blockquote body button canvas caption cite code colgroup datalist dd del details dfn dialog div dl dt em fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header html i iframe ins kbd label legend li main map mark menu meter nav noscript object ol optgroup option output p pre progress q rp rt ruby s samp script section select small span strong style sub summary sup table tbody td textarea tfoot th thead time title tr u ul var video area base br col command embed hr img input keygen link meta param source track wbr'.split(/\s+/);

  SelfClosingTags = {};

  'area base br col command embed hr img input keygen link meta param source track wbr'.split(/\s+/).forEach(function(tag) {
    return SelfClosingTags[tag] = true;
  });

  Events = 'blur change click dblclick error focus input keydown keypress keyup load mousedown mousemove mouseout mouseover mouseup resize scroll select submit unload'.split(/\s+/);

  BabelSpacePenDSL = class BabelSpacePenDSL extends Mixin {
    buildContent() {
      if (this.constructor.content != null) {
        return SpacePenDSL.buildContent(this, this.constructor.content);
      }
    }

  };

  module.exports = SpacePenDSL = (function() {
    class SpacePenDSL extends Mixin {
      static includeInto(klass) {
        super.includeInto(klass);
        Object.defineProperty(klass, 'content', {
          enumerable: false,
          get: function() {
            return this.prototype.__content__;
          },
          set: function(value) {
            return this.prototype.__content__ = value;
          }
        });
        Object.defineProperty(klass.prototype, 'createdCallback', {
          enumerable: true,
          get: function() {
            return this.__create__;
          },
          set: function(value) {
            return this.__createdCallback__ = value;
          }
        });
        Object.defineProperty(klass.prototype, '__create__', {
          enumerable: true,
          value: function() {
            if (this.__content__ != null) {
              SpacePenDSL.buildContent(this, this.__content__);
            }
            if (this.__createdCallback__ != null) {
              return this.__createdCallback__();
            }
          }
        });
        return klass.useShadowRoot = function() {
          return klass.prototype.__useShadowRoot__ = true;
        };
      }

      static buildContent(element, content) {
        var html, root, template;
        template = new Template();
        content.call(template);
        [html] = template.buildHtml();
        root = element.__useShadowRoot__ ? root = element.shadowRoot = element.createShadowRoot() : root = element;
        root.innerHTML = html;
        return this.wireOutlets(element, root);
      }

      static wireOutlets(view, root) {
        var element, i, len, outlet, ref;
        ref = root.querySelectorAll('[outlet]');
        for (i = 0, len = ref.length; i < len; i++) {
          element = ref[i];
          outlet = element.getAttribute('outlet');
          view[outlet] = element;
          element.removeAttribute('outlet');
        }
        return void 0;
      }

    };

    SpacePenDSL.Babel = BabelSpacePenDSL;

    return SpacePenDSL;

  }).call(this);

  Template = (function() {
    class Template {
      constructor() {
        this.currentBuilder = new Builder();
      }

      subview(name, view) {
        return this.currentBuilder.subview(name, view);
      }

      text(string) {
        return this.currentBuilder.text(string);
      }

      tag(tagName, ...args) {
        return this.currentBuilder.tag(tagName, ...args);
      }

      raw(string) {
        return this.currentBuilder.raw(string);
      }

      buildHtml() {
        return this.currentBuilder.buildHtml();
      }

    };

    Tags.forEach(function(tagName) {
      return Template.prototype[tagName] = function(...args) {
        return this.currentBuilder.tag(tagName, ...args);
      };
    });

    return Template;

  }).call(this);

  Builder = class Builder {
    constructor() {
      this.document = [];
      this.postProcessingSteps = [];
    }

    buildHtml() {
      return [this.document.join(''), this.postProcessingSteps];
    }

    tag(name, ...args) {
      var options;
      options = this.extractOptions(args);
      this.openTag(name, options.attributes);
      if (SelfClosingTags.hasOwnProperty(name)) {
        if ((options.text != null) || (options.content != null)) {
          throw new Error(`Self-closing tag ${name} cannot have text or content`);
        }
      } else {
        if (typeof options.content === "function") {
          options.content();
        }
        if (options.text) {
          this.text(options.text);
        }
        return this.closeTag(name);
      }
    }

    openTag(name, attributes) {
      var attributeName, attributePairs, attributesString, value;
      if (this.document.length === 0) {
        if (attributes == null) {
          attributes = {};
        }
      }
      attributePairs = (function() {
        var results;
        results = [];
        for (attributeName in attributes) {
          value = attributes[attributeName];
          results.push(`${attributeName}=\"${value}\"`);
        }
        return results;
      })();
      attributesString = attributePairs.length ? " " + attributePairs.join(" ") : "";
      return this.document.push(`<${name}${attributesString}>`);
    }

    closeTag(name) {
      return this.document.push(`</${name}>`);
    }

    text(string) {
      var escapedString;
      escapedString = string.replace(/&/g, '&amp;').replace(/"/g, '&quot;').replace(/'/g, '&#39;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
      return this.document.push(escapedString);
    }

    raw(string) {
      return this.document.push(string);
    }

    subview(outletName, subview) {
      var subviewId;
      subviewId = `subview-${++idCounter}`;
      this.tag('div', {
        id: subviewId
      });
      return this.postProcessingSteps.push(function(view) {
        view[outletName] = subview;
        subview.parentView = view;
        return view.find(`div#${subviewId}`).replaceWith(subview);
      });
    }

    extractOptions(args) {
      var arg, i, len, options;
      options = {};
      for (i = 0, len = args.length; i < len; i++) {
        arg = args[i];
        switch (typeof arg) {
          case 'function':
            options.content = arg;
            break;
          case 'string':
          case 'number':
            options.text = arg.toString();
            break;
          default:
            options.attributes = arg;
        }
      }
      return options;
    }

  };

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3BhY2UtcGVuLWRzbC5qcyIsInNvdXJjZVJvb3QiOiIuLi8uLiIsInNvdXJjZXMiOlsibGliL21peGlucy9zcGFjZS1wZW4tZHNsLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUE7QUFBQSxNQUFBLGdCQUFBLEVBQUEsT0FBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsZUFBQSxFQUFBLFdBQUEsRUFBQSxJQUFBLEVBQUE7O0VBQUEsS0FBQSxHQUFRLE9BQUEsQ0FBUSxPQUFSOztFQUVSLElBQUEsR0FDRSxra0JBTytDLENBQUMsS0FQaEQsQ0FPc0QsS0FQdEQ7O0VBU0YsZUFBQSxHQUFrQixDQUFBOztFQUNsQixxRkFDa0IsQ0FBQyxLQURuQixDQUN5QixLQUR6QixDQUMrQixDQUFDLE9BRGhDLENBQ3dDLFFBQUEsQ0FBQyxHQUFELENBQUE7V0FBUyxlQUFlLENBQUMsR0FBRCxDQUFmLEdBQXVCO0VBQWhDLENBRHhDOztFQUdBLE1BQUEsR0FDRSw0SkFFNEMsQ0FBQyxLQUY3QyxDQUVtRCxLQUZuRDs7RUFJSSxtQkFBTixNQUFBLGlCQUFBLFFBQStCLE1BQS9CO0lBQ0UsWUFBYyxDQUFBLENBQUE7TUFDWixJQUF3RCxnQ0FBeEQ7ZUFBQSxXQUFXLENBQUMsWUFBWixDQUF5QixJQUF6QixFQUErQixJQUFDLENBQUEsV0FBVyxDQUFDLE9BQTVDLEVBQUE7O0lBRFk7O0VBRGhCOztFQUlBLE1BQU0sQ0FBQyxPQUFQLEdBQ007SUFBTixNQUFBLFlBQUEsUUFBMEIsTUFBMUI7TUFHZ0IsT0FBYixXQUFhLENBQUMsS0FBRCxDQUFBO2FBQWIsQ0FBQSxXQUNDLENBQU0sS0FBTjtRQUVBLE1BQU0sQ0FBQyxjQUFQLENBQXNCLEtBQXRCLEVBQTZCLFNBQTdCLEVBQ0U7VUFBQSxVQUFBLEVBQVksS0FBWjtVQUNBLEdBQUEsRUFBSyxRQUFBLENBQUEsQ0FBQTttQkFBRyxJQUFDLENBQUEsU0FBUyxDQUFDO1VBQWQsQ0FETDtVQUVBLEdBQUEsRUFBSyxR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S0FBTCxFQUFZO1FBQUEsRUFBQSxFQUFJO01BQUosQ0FBWjthQUNBLElBQUMsQ0FBQSxtQkFBbUIsQ0FBQyxJQUFyQixDQUEwQixRQUFBLENBQUMsSUFBRCxDQUFBO1FBQ3hCLElBQUksQ0FBQyxVQUFELENBQUosR0FBbUI7UUFDbkIsT0FBTyxDQUFDLFVBQVIsR0FBcUI7ZUFDckIsSUFBSSxDQUFDLElBQUwsQ0FBVSxDQUFBLElBQUEsQ0FBQSxDQUFPLFNBQVAsQ0FBQSxDQUFWLENBQTZCLENBQUMsV0FBOUIsQ0FBMEMsT0FBMUM7TUFId0IsQ0FBMUI7SUFITzs7SUFRVCxjQUFnQixDQUFDLElBQUQsQ0FBQTtBQUNsQixVQUFBLEdBQUEsRUFBQSxDQUFBLEVBQUEsR0FBQSxFQUFBO01BQUksT0FBQSxHQUFVLENBQUE7TUFDVixLQUFBLHNDQUFBOztBQUNFLGdCQUFPLE9BQU8sR0FBZDtBQUFBLGVBQ08sVUFEUDtZQUVJLE9BQU8sQ0FBQyxPQUFSLEdBQWtCO0FBRGY7QUFEUCxlQUdPLFFBSFA7QUFBQSxlQUdpQixRQUhqQjtZQUlJLE9BQU8sQ0FBQyxJQUFSLEdBQWUsR0FBRyxDQUFDLFFBQUosQ0FBQTtBQURGO0FBSGpCO1lBTUksT0FBTyxDQUFDLFVBQVIsR0FBcUI7QUFOekI7TUFERjthQVFBO0lBVmM7O0VBN0RsQjtBQTNGQSIsInNvdXJjZXNDb250ZW50IjpbIk1peGluID0gcmVxdWlyZSAnbWl4dG8nXG5cblRhZ3MgPVxuICAnYSBhYmJyIGFkZHJlc3MgYXJ0aWNsZSBhc2lkZSBhdWRpbyBiIGJkaSBiZG8gYmxvY2txdW90ZSBib2R5IGJ1dHRvbiBjYW52YXNcbiAgIGNhcHRpb24gY2l0ZSBjb2RlIGNvbGdyb3VwIGRhdGFsaXN0IGRkIGRlbCBkZXRhaWxzIGRmbiBkaWFsb2cgZGl2IGRsIGR0IGVtXG4gICBmaWVsZHNldCBmaWdjYXB0aW9uIGZpZ3VyZSBmb290ZXIgZm9ybSBoMSBoMiBoMyBoNCBoNSBoNiBoZWFkIGhlYWRlciBodG1sIGlcbiAgIGlmcmFtZSBpbnMga2JkIGxhYmVsIGxlZ2VuZCBsaSBtYWluIG1hcCBtYXJrIG1lbnUgbWV0ZXIgbmF2IG5vc2NyaXB0IG9iamVjdFxuICAgb2wgb3B0Z3JvdXAgb3B0aW9uIG91dHB1dCBwIHByZSBwcm9ncmVzcyBxIHJwIHJ0IHJ1YnkgcyBzYW1wIHNjcmlwdCBzZWN0aW9uXG4gICBzZWxlY3Qgc21hbGwgc3BhbiBzdHJvbmcgc3R5bGUgc3ViIHN1bW1hcnkgc3VwIHRhYmxlIHRib2R5IHRkIHRleHRhcmVhIHRmb290XG4gICB0aCB0aGVhZCB0aW1lIHRpdGxlIHRyIHUgdWwgdmFyIHZpZGVvIGFyZWEgYmFzZSBiciBjb2wgY29tbWFuZCBlbWJlZCBociBpbWdcbiAgIGlucHV0IGtleWdlbiBsaW5rIG1ldGEgcGFyYW0gc291cmNlIHRyYWNrIHdicicuc3BsaXQgL1xccysvXG5cblNlbGZDbG9zaW5nVGFncyA9IHt9XG4nYXJlYSBiYXNlIGJyIGNvbCBjb21tYW5kIGVtYmVkIGhyIGltZyBpbnB1dCBrZXlnZW4gbGluayBtZXRhIHBhcmFtXG4gc291cmNlIHRyYWNrIHdicicuc3BsaXQoL1xccysvKS5mb3JFYWNoICh0YWcpIC0+IFNlbGZDbG9zaW5nVGFnc1t0YWddID0gdHJ1ZVxuXG5FdmVudHMgPVxuICAnYmx1ciBjaGFuZ2UgY2xpY2sgZGJsY2xpY2sgZXJyb3IgZm9jdXMgaW5wdXQga2V5ZG93blxuICAga2V5cHJlc3Mga2V5dXAgbG9hZCBtb3VzZWRvd24gbW91c2Vtb3ZlIG1vdXNlb3V0IG1vdXNlb3ZlclxuICAgbW91c2V1cCByZXNpemUgc2Nyb2xsIHNlbGVjdCBzdWJtaXQgdW5sb2FkJy5zcGxpdCAvXFxzKy9cblxuY2xhc3MgQmFiZWxTcGFjZVBlbkRTTCBleHRlbmRzIE1peGluXG4gIGJ1aWxkQ29udGVudDogLT5cbiAgICBTcGFjZVBlbkRTTC5idWlsZENvbnRlbnQodGhpcywgQGNvbnN0cnVjdG9yLmNvbnRlbnQpIGlmIEBjb25zdHJ1Y3Rvci5jb250ZW50P1xuXG5tb2R1bGUuZXhwb3J0cyA9XG5jbGFzcyBTcGFjZVBlbkRTTCBleHRlbmRzIE1peGluXG4gIEBCYWJlbDogQmFiZWxTcGFjZVBlbkRTTFxuXG4gIEBpbmNsdWRlSW50bzogKGtsYXNzKSAtPlxuICAgIHN1cGVyKGtsYXNzKVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5IGtsYXNzLCAnY29udGVudCcsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZVxuICAgICAgZ2V0OiAtPiBAcHJvdG90eXBlLl9fY29udGVudF9fXG4gICAgICBzZXQ6ICh2YWx1ZSkgLT4gQHByb3RvdHlwZS5fX2NvbnRlbnRfXyA9IHZhbHVlXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkga2xhc3M6OiwgJ2NyZWF0ZWRDYWxsYmFjaycsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICBnZXQ6IC0+IEBfX2NyZWF0ZV9fXG4gICAgICBzZXQ6ICh2YWx1ZSkgLT4gQF9fY3JlYXRlZENhbGxiYWNrX18gPSB2YWx1ZVxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5IGtsYXNzOjosICdfX2NyZWF0ZV9fJyxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgIHZhbHVlOiAtPlxuICAgICAgICBTcGFjZVBlbkRTTC5idWlsZENvbnRlbnQodGhpcywgQF9fY29udGVudF9fKSBpZiBAX19jb250ZW50X18/XG5cbiAgICAgICAgZG8gQF9fY3JlYXRlZENhbGxiYWNrX18gaWYgQF9fY3JlYXRlZENhbGxiYWNrX18/XG5cbiAgICBrbGFzcy51c2VTaGFkb3dSb290ID0gLT5cbiAgICAgIGtsYXNzOjpfX3VzZVNoYWRvd1Jvb3RfXyA9IHRydWVcblxuICBAYnVpbGRDb250ZW50OiAoZWxlbWVudCwgY29udGVudCkgLT5cbiAgICB0ZW1wbGF0ZSA9IG5ldyBUZW1wbGF0ZVxuXG4gICAgY29udGVudC5jYWxsKHRlbXBsYXRlKVxuXG4gICAgW2h0bWxdID0gdGVtcGxhdGUuYnVpbGRIdG1sKClcbiAgICByb290ID1cbiAgICBpZiBlbGVtZW50Ll9fdXNlU2hhZG93Um9vdF9fXG4gICAgICByb290ID0gZWxlbWVudC5zaGFkb3dSb290ID0gZWxlbWVudC5jcmVhdGVTaGFkb3dSb290KClcbiAgICBlbHNlXG4gICAgICByb290ID0gZWxlbWVudFxuICAgIHJvb3QuaW5uZXJIVE1MID0gaHRtbFxuXG4gICAgQHdpcmVPdXRsZXRzKGVsZW1lbnQsIHJvb3QpXG5cbiAgQHdpcmVPdXRsZXRzOiAodmlldywgcm9vdCkgLT5cbiAgICBmb3IgZWxlbWVudCBpbiByb290LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tvdXRsZXRdJylcbiAgICAgIG91dGxldCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdvdXRsZXQnKVxuICAgICAgdmlld1tvdXRsZXRdID0gZWxlbWVudFxuICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ291dGxldCcpXG5cbiAgICB1bmRlZmluZWRcblxuY2xhc3MgVGVtcGxhdGVcbiAgY29uc3RydWN0b3I6IC0+IEBjdXJyZW50QnVpbGRlciA9IG5ldyBCdWlsZGVyXG5cbiAgVGFncy5mb3JFYWNoICh0YWdOYW1lKSAtPlxuICAgIFRlbXBsYXRlOjpbdGFnTmFtZV0gPSAoYXJncy4uLikgLT4gQGN1cnJlbnRCdWlsZGVyLnRhZyh0YWdOYW1lLCBhcmdzLi4uKVxuXG4gIHN1YnZpZXc6IChuYW1lLCB2aWV3KSAtPiBAY3VycmVudEJ1aWxkZXIuc3VidmlldyhuYW1lLCB2aWV3KVxuXG4gIHRleHQ6IChzdHJpbmcpIC0+IEBjdXJyZW50QnVpbGRlci50ZXh0KHN0cmluZylcblxuICB0YWc6ICh0YWdOYW1lLCBhcmdzLi4uKSAtPiBAY3VycmVudEJ1aWxkZXIudGFnKHRhZ05hbWUsIGFyZ3MuLi4pXG5cbiAgcmF3OiAoc3RyaW5nKSAtPiBAY3VycmVudEJ1aWxkZXIucmF3KHN0cmluZylcblxuICBidWlsZEh0bWw6IC0+IEBjdXJyZW50QnVpbGRlci5idWlsZEh0bWwoKVxuXG5jbGFzcyBCdWlsZGVyXG4gIGNvbnN0cnVjdG9yOiAtPlxuICAgIEBkb2N1bWVudCA9IFtdXG4gICAgQHBvc3RQcm9jZXNzaW5nU3RlcHMgPSBbXVxuXG4gIGJ1aWxkSHRtbDogLT5cbiAgICBbQGRvY3VtZW50LmpvaW4oJycpLCBAcG9zdFByb2Nlc3NpbmdTdGVwc11cblxuICB0YWc6IChuYW1lLCBhcmdzLi4uKSAtPlxuICAgIG9wdGlvbnMgPSBAZXh0cmFjdE9wdGlvbnMoYXJncylcblxuICAgIEBvcGVuVGFnKG5hbWUsIG9wdGlvbnMuYXR0cmlidXRlcylcblxuICAgIGlmIFNlbGZDbG9zaW5nVGFncy5oYXNPd25Qcm9wZXJ0eShuYW1lKVxuICAgICAgaWYgb3B0aW9ucy50ZXh0PyBvciBvcHRpb25zLmNvbnRlbnQ/XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNlbGYtY2xvc2luZyB0YWcgI3tuYW1lfSBjYW5ub3QgaGF2ZSB0ZXh0IG9yIGNvbnRlbnRcIilcbiAgICBlbHNlXG4gICAgICBvcHRpb25zLmNvbnRlbnQ/KClcbiAgICAgIEB0ZXh0KG9wdGlvbnMudGV4dCkgaWYgb3B0aW9ucy50ZXh0XG4gICAgICBAY2xvc2VUYWcobmFtZSlcblxuICBvcGVuVGFnOiAobmFtZSwgYXR0cmlidXRlcykgLT5cbiAgICBpZiBAZG9jdW1lbnQubGVuZ3RoIGlzIDBcbiAgICAgIGF0dHJpYnV0ZXMgPz0ge31cblxuICAgIGF0dHJpYnV0ZVBhaXJzID1cbiAgICAgIGZvciBhdHRyaWJ1dGVOYW1lLCB2YWx1ZSBvZiBhdHRyaWJ1dGVzXG4gICAgICAgIFwiI3thdHRyaWJ1dGVOYW1lfT1cXFwiI3t2YWx1ZX1cXFwiXCJcblxuICAgIGF0dHJpYnV0ZXNTdHJpbmcgPVxuICAgICAgaWYgYXR0cmlidXRlUGFpcnMubGVuZ3RoXG4gICAgICAgIFwiIFwiICsgYXR0cmlidXRlUGFpcnMuam9pbihcIiBcIilcbiAgICAgIGVsc2VcbiAgICAgICAgXCJcIlxuXG4gICAgQGRvY3VtZW50LnB1c2ggXCI8I3tuYW1lfSN7YXR0cmlidXRlc1N0cmluZ30+XCJcblxuICBjbG9zZVRhZzogKG5hbWUpIC0+XG4gICAgQGRvY3VtZW50LnB1c2ggXCI8LyN7bmFtZX0+XCJcblxuICB0ZXh0OiAoc3RyaW5nKSAtPlxuICAgIGVzY2FwZWRTdHJpbmcgPSBzdHJpbmdcbiAgICAgIC5yZXBsYWNlKC8mL2csICcmYW1wOycpXG4gICAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpXG4gICAgICAucmVwbGFjZSgvJy9nLCAnJiMzOTsnKVxuICAgICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuXG4gICAgQGRvY3VtZW50LnB1c2ggZXNjYXBlZFN0cmluZ1xuXG4gIHJhdzogKHN0cmluZykgLT5cbiAgICBAZG9jdW1lbnQucHVzaCBzdHJpbmdcblxuICBzdWJ2aWV3OiAob3V0bGV0TmFtZSwgc3VidmlldykgLT5cbiAgICBzdWJ2aWV3SWQgPSBcInN1YnZpZXctI3srK2lkQ291bnRlcn1cIlxuICAgIEB0YWcgJ2RpdicsIGlkOiBzdWJ2aWV3SWRcbiAgICBAcG9zdFByb2Nlc3NpbmdTdGVwcy5wdXNoICh2aWV3KSAtPlxuICAgICAgdmlld1tvdXRsZXROYW1lXSA9IHN1YnZpZXdcbiAgICAgIHN1YnZpZXcucGFyZW50VmlldyA9IHZpZXdcbiAgICAgIHZpZXcuZmluZChcImRpdiMje3N1YnZpZXdJZH1cIikucmVwbGFjZVdpdGgoc3VidmlldylcblxuICBleHRyYWN0T3B0aW9uczogKGFyZ3MpIC0+XG4gICAgb3B0aW9ucyA9IHt9XG4gICAgZm9yIGFyZyBpbiBhcmdzXG4gICAgICBzd2l0Y2ggdHlwZW9mKGFyZylcbiAgICAgICAgd2hlbiAnZnVuY3Rpb24nXG4gICAgICAgICAgb3B0aW9ucy5jb250ZW50ID0gYXJnXG4gICAgICAgIHdoZW4gJ3N0cmluZycsICdudW1iZXInXG4gICAgICAgICAgb3B0aW9ucy50ZXh0ID0gYXJnLnRvU3RyaW5nKClcbiAgICAgICAgZWxzZVxuICAgICAgICAgIG9wdGlvbnMuYXR0cmlidXRlcyA9IGFyZ1xuICAgIG9wdGlvbnNcbiJdfQ==
//# sourceURL=/home/runner/work/atom-utils-plus/atom-utils-plus/lib/mixins/space-pen-dsl.coffee