(function() {
  var CP, arr, exp, fs, genp, k, output, ref, run, v;

  CP = require('child_process');

  fs = require('fs');

  genp = CP.execSync("ghc-mod browse -dpo Prelude", {
    encoding: 'utf8'
  }).split(/\r?\n|\r/).slice(0, -1);

  arr = function(input) {
    var lines;
    lines = input.map(function(line) {
      return line.split(/ :: /)[0] || line;
    });
    return lines;
  };

  run = function(filter) {
    var p, rx;
    if (typeof filter !== "function") {
      rx = filter;
      filter = function(line) {
        return line.match(rx);
      };
    }
    p = arr(genp.filter(filter));
    return p;
  };

  exp = {};

  exp.classes = run(/class/);

  exp.funct = run(/^[a-z]/);

  exp.constr = run(/^[A-Z].*from:/);

  exp.types = run(/data|type/);

  exp.operators = run(/^\(/).map(function(x) {
    return x.slice(1, -1);
  });

  (ref = exp.types).push.apply(ref, run(function(line) {
    return line.match(/^[A-Z]/) && !line.match(/::/) && !line.match(/True|False/);
  }));

  exp.constr.push('True', 'False');

  output = ['# coffeelint: disable'];

  for (k in exp) {
    v = exp[k];
    output.push(k + " = " + (JSON.stringify(v)));
  }

  output.push("module.exports = { " + (Object.keys(exp)) + " }");

  fs.writeFileSync('src/include/prelude.coffee', output.join('\n') + '\n', 'utf8');

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL2hvbWUvYXJjaC8uYXRvbS9wYWNrYWdlcy9sYW5ndWFnZS1oYXNrZWxsL3NyYy9tYWtlcHJlbHVkZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7QUFBQSxNQUFBOztFQUFBLEVBQUEsR0FBSyxPQUFBLENBQVEsZUFBUjs7RUFDTCxFQUFBLEdBQUssT0FBQSxDQUFRLElBQVI7O0VBRUwsSUFBQSxHQUFPLEVBQUUsQ0FBQyxRQUFILENBQVksNkJBQVosRUFBMkM7SUFBQSxRQUFBLEVBQVUsTUFBVjtHQUEzQyxDQUE0RCxDQUFDLEtBQTdELENBQW1FLFVBQW5FLENBQThFLENBQUMsS0FBL0UsQ0FBcUYsQ0FBckYsRUFBd0YsQ0FBQyxDQUF6Rjs7RUFFUCxHQUFBLEdBQU0sU0FBQyxLQUFEO0FBQ0osUUFBQTtJQUFBLEtBQUEsR0FDRSxLQUFLLENBQUMsR0FBTixDQUFVLFNBQUMsSUFBRDthQUNSLElBQUksQ0FBQyxLQUFMLENBQVcsTUFBWCxDQUFtQixDQUFBLENBQUEsQ0FBbkIsSUFBeUI7SUFEakIsQ0FBVjtBQUVGLFdBQU87RUFKSDs7RUFNTixHQUFBLEdBQU0sU0FBQyxNQUFEO0FBQ0osUUFBQTtJQUFBLElBQUcsT0FBTyxNQUFQLEtBQW1CLFVBQXRCO01BQ0UsRUFBQSxHQUFLO01BQ0wsTUFBQSxHQUFTLFNBQUMsSUFBRDtlQUFVLElBQUksQ0FBQyxLQUFMLENBQVcsRUFBWDtNQUFWLEVBRlg7O0lBR0EsQ0FBQSxHQUFJLEdBQUEsQ0FBSSxJQUFJLENBQUMsTUFBTCxDQUFZLE1BQVosQ0FBSjtBQUNKLFdBQU87RUFMSDs7RUFPTixHQUFBLEdBQU07O0VBRU4sR0FBRyxDQUFDLE9BQUosR0FBYyxHQUFBLENBQUksT0FBSjs7RUFDZCxHQUFHLENBQUMsS0FBSixHQUFZLEdBQUEsQ0FBSSxRQUFKOztFQUNaLEdBQUcsQ0FBQyxNQUFKLEdBQWEsR0FBQSxDQUFJLGVBQUo7O0VBQ2IsR0FBRyxDQUFDLEtBQUosR0FBWSxHQUFBLENBQUksV0FBSjs7RUFDWixHQUFHLENBQUMsU0FBSixHQUFnQixHQUFBLENBQUksS0FBSixDQUFVLENBQUMsR0FBWCxDQUFlLFNBQUMsQ0FBRDtXQUFPLENBQUMsQ0FBQyxLQUFGLENBQVEsQ0FBUixFQUFXLENBQUMsQ0FBWjtFQUFQLENBQWY7O0VBRWhCLE9BQUEsR0FBRyxDQUFDLEtBQUosQ0FBUyxDQUFDLElBQVYsWUFBZ0IsR0FBQSxDQUFJLFNBQUMsSUFBRDtXQUNsQixJQUFJLENBQUMsS0FBTCxDQUFXLFFBQVgsQ0FBQSxJQUF5QixDQUFJLElBQUksQ0FBQyxLQUFMLENBQVcsSUFBWCxDQUE3QixJQUFrRCxDQUFJLElBQUksQ0FBQyxLQUFMLENBQVcsWUFBWDtFQURwQyxDQUFKLENBQWhCOztFQUVBLEdBQUcsQ0FBQyxNQUFNLENBQUMsSUFBWCxDQUFnQixNQUFoQixFQUF3QixPQUF4Qjs7RUFFQSxNQUFBLEdBQVMsQ0FBRSx1QkFBRjs7QUFDVCxPQUFBLFFBQUE7O0lBQ0UsTUFBTSxDQUFDLElBQVAsQ0FBZSxDQUFELEdBQUcsS0FBSCxHQUFPLENBQUMsSUFBSSxDQUFDLFNBQUwsQ0FBZSxDQUFmLENBQUQsQ0FBckI7QUFERjs7RUFFQSxNQUFNLENBQUMsSUFBUCxDQUFZLHFCQUFBLEdBQXFCLENBQUMsTUFBTSxDQUFDLElBQVAsQ0FBWSxHQUFaLENBQUQsQ0FBckIsR0FBdUMsSUFBbkQ7O0VBRUEsRUFBRSxDQUFDLGFBQUgsQ0FBaUIsNEJBQWpCLEVBQStDLE1BQU0sQ0FBQyxJQUFQLENBQVksSUFBWixDQUFBLEdBQWtCLElBQWpFLEVBQXVFLE1BQXZFO0FBbkNBIiwic291cmNlc0NvbnRlbnQiOlsiIyEvYmluL2Jhc2hcblxuQ1AgPSByZXF1aXJlICdjaGlsZF9wcm9jZXNzJ1xuZnMgPSByZXF1aXJlICdmcydcblxuZ2VucCA9IENQLmV4ZWNTeW5jKFwiZ2hjLW1vZCBicm93c2UgLWRwbyBQcmVsdWRlXCIsIGVuY29kaW5nOiAndXRmOCcpLnNwbGl0KC9cXHI/XFxufFxcci8pLnNsaWNlKDAsIC0xKVxuXG5hcnIgPSAoaW5wdXQpIC0+XG4gIGxpbmVzID1cbiAgICBpbnB1dC5tYXAgKGxpbmUpIC0+XG4gICAgICBsaW5lLnNwbGl0KC8gOjogLylbMF0gb3IgbGluZVxuICByZXR1cm4gbGluZXNcblxucnVuID0gKGZpbHRlcikgLT5cbiAgaWYgdHlwZW9mIGZpbHRlciBpc250IFwiZnVuY3Rpb25cIlxuICAgIHJ4ID0gZmlsdGVyXG4gICAgZmlsdGVyID0gKGxpbmUpIC0+IGxpbmUubWF0Y2gocngpXG4gIHAgPSBhcnIoZ2VucC5maWx0ZXIgZmlsdGVyKVxuICByZXR1cm4gcFxuXG5leHAgPSB7fVxuXG5leHAuY2xhc3NlcyA9IHJ1biAvY2xhc3MvXG5leHAuZnVuY3QgPSBydW4gL15bYS16XS9cbmV4cC5jb25zdHIgPSBydW4gL15bQS1aXS4qZnJvbTovXG5leHAudHlwZXMgPSBydW4gL2RhdGF8dHlwZS9cbmV4cC5vcGVyYXRvcnMgPSBydW4oL15cXCgvKS5tYXAoKHgpIC0+IHguc2xpY2UoMSwgLTEpKVxuXG5leHAudHlwZXMucHVzaCAocnVuIChsaW5lKSAtPlxuICBsaW5lLm1hdGNoKC9eW0EtWl0vKSBhbmQgbm90IGxpbmUubWF0Y2goLzo6LykgYW5kIG5vdCBsaW5lLm1hdGNoKC9UcnVlfEZhbHNlLykpLi4uXG5leHAuY29uc3RyLnB1c2ggJ1RydWUnLCAnRmFsc2UnXG5cbm91dHB1dCA9IFsgJyMgY29mZmVlbGludDogZGlzYWJsZScgXVxuZm9yIGssIHYgb2YgZXhwXG4gIG91dHB1dC5wdXNoIFwiI3trfSA9ICN7SlNPTi5zdHJpbmdpZnkodil9XCJcbm91dHB1dC5wdXNoIFwibW9kdWxlLmV4cG9ydHMgPSB7ICN7T2JqZWN0LmtleXMoZXhwKX0gfVwiXG5cbmZzLndyaXRlRmlsZVN5bmMgJ3NyYy9pbmNsdWRlL3ByZWx1ZGUuY29mZmVlJywgb3V0cHV0LmpvaW4oJ1xcbicpKydcXG4nLCAndXRmOCdcbiJdfQ==
